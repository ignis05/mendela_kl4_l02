<!-- open with vscode live server -->
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<title>Document</title>
		<script>
            // executes xpath query on xml object and returns array
			function xpathQuerry(xml, query) {
				let final = []
				let nodes = xml.evaluate(
					query,
					xml,
					null,
					XPathResult.ANY_TYPE,
					null
				)
				let result = nodes.iterateNext()
				while (result) {
					final.push(result.childNodes[0].nodeValue)
					result = nodes.iterateNext()
				}
				return final
            }
            
			fetch('http://localhost:5500/dane.xml')
				.then(res => res.text())
				.then(str =>
					new window.DOMParser().parseFromString(str, 'text/xml')
				)
				.then(data => {
					console.log(data)

					let path = '//row[NAZWA_DOD="wojew√≥dztwo"]/NAZWA'
					let woj = xpathQuerry(data, path)
					console.log(woj)
				})
		</script>
	</head>
	<body>
		<div id="root">
			<div id="woj"></div>
		</div>
	</body>
</html>
